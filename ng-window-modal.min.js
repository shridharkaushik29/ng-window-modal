angular.module("ngWindowModal",[]).factory("$windowModal",["$q",function(a){return{open:function(b){var c={target:"_blank",options:{toolbar:false,location:false,menubar:false}};angular.merge(c,b);return a(function(f,d){var g=[];angular.forEach(c.options,function(i,h){g.push(h+"="+i)});g=g.join(",");var e=window.open(c.url,c.target,g);angular.element(e).on("load",function(){e.resolveModal=function(h){f(h);e.resolved=true;e.close()};e.rejectModal=function(h){d(h);e.rejected=true;e.close()}});angular.element(e).on("unload",function(){if(b.onClose){b.onClose()}if(!e.rejected&&!e.resolved){d()}})})}}}]);